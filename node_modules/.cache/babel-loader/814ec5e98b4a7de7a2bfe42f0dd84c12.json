{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { POST_TYPES } from \"./redux/types/postTypes\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SocketClient = () => {\n  _s();\n\n  const {\n    auth,\n    socket\n  } = useSelector(state => state);\n  const dispatch = useDispatch(); //connect user to socket io\n\n  useEffect(() => {\n    socket.emit(\"joinUser\", auth.user._id);\n  }, [socket, auth.user._id]); //   likes\n\n  useEffect(() => {\n    socket.on(\"likeToClient\", newPost => {\n      dispatch({\n        type: POST_TYPES.UPDATE_POST,\n        payload: newPost\n      });\n    });\n    return () => socket.off(\"likeToClient\");\n  }, [socket, dispatch]); //  un likes\n\n  useEffect(() => {\n    socket.on(\"unLikeToClient\", newPost => {\n      dispatch({\n        type: POST_TYPES.UPDATE_POST,\n        payload: newPost\n      });\n    });\n    return () => socket.off(\"likeToClient\");\n  }, [socket, dispatch]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: \" \"\n  }, void 0, false);\n};\n\n_s(SocketClient, \"/w1pURuAfJaAELx8ezSjTvho0h4=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = SocketClient;\nexport default SocketClient;\n\nvar _c;\n\n$RefreshReg$(_c, \"SocketClient\");","map":{"version":3,"sources":["C:/Benkia/MERN/instagram-clone/client/src/socketClient.js"],"names":["React","useEffect","useDispatch","useSelector","POST_TYPES","SocketClient","auth","socket","state","dispatch","emit","user","_id","on","newPost","type","UPDATE_POST","payload","off"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,QAA2B,yBAA3B;;;;AAEA,MAAMC,YAAY,GAAG,MAAM;AAAA;;AACzB,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAmBJ,WAAW,CAAEK,KAAD,IAAWA,KAAZ,CAApC;AACA,QAAMC,QAAQ,GAAGP,WAAW,EAA5B,CAFyB,CAIzB;;AACAD,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,MAAM,CAACG,IAAP,CAAY,UAAZ,EAAwBJ,IAAI,CAACK,IAAL,CAAUC,GAAlC;AACD,GAFQ,EAEN,CAACL,MAAD,EAASD,IAAI,CAACK,IAAL,CAAUC,GAAnB,CAFM,CAAT,CALyB,CASzB;;AACAX,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,MAAM,CAACM,EAAP,CAAU,cAAV,EAA2BC,OAAD,IAAa;AACrCL,MAAAA,QAAQ,CAAC;AACPM,QAAAA,IAAI,EAAEX,UAAU,CAACY,WADV;AAEPC,QAAAA,OAAO,EAAEH;AAFF,OAAD,CAAR;AAID,KALD;AAOA,WAAO,MAAMP,MAAM,CAACW,GAAP,CAAW,cAAX,CAAb;AACD,GATQ,EASN,CAACX,MAAD,EAASE,QAAT,CATM,CAAT,CAVyB,CAqBzB;;AACAR,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,MAAM,CAACM,EAAP,CAAU,gBAAV,EAA6BC,OAAD,IAAa;AACvCL,MAAAA,QAAQ,CAAC;AACPM,QAAAA,IAAI,EAAEX,UAAU,CAACY,WADV;AAEPC,QAAAA,OAAO,EAAEH;AAFF,OAAD,CAAR;AAID,KALD;AAOA,WAAO,MAAMP,MAAM,CAACW,GAAP,CAAW,cAAX,CAAb;AACD,GATQ,EASN,CAACX,MAAD,EAASE,QAAT,CATM,CAAT;AAWA,sBAAO;AAAA;AAAA,mBAAP;AACD,CAlCD;;GAAMJ,Y;UACqBF,W,EACRD,W;;;KAFbG,Y;AAoCN,eAAeA,YAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { POST_TYPES } from \"./redux/types/postTypes\";\r\n\r\nconst SocketClient = () => {\r\n  const { auth, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  //connect user to socket io\r\n  useEffect(() => {\r\n    socket.emit(\"joinUser\", auth.user._id);\r\n  }, [socket, auth.user._id]);\r\n\r\n  //   likes\r\n  useEffect(() => {\r\n    socket.on(\"likeToClient\", (newPost) => {\r\n      dispatch({\r\n        type: POST_TYPES.UPDATE_POST,\r\n        payload: newPost,\r\n      });\r\n    });\r\n\r\n    return () => socket.off(\"likeToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //  un likes\r\n  useEffect(() => {\r\n    socket.on(\"unLikeToClient\", (newPost) => {\r\n      dispatch({\r\n        type: POST_TYPES.UPDATE_POST,\r\n        payload: newPost,\r\n      });\r\n    });\r\n\r\n    return () => socket.off(\"likeToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  return <> </>;\r\n};\r\n\r\nexport default SocketClient;\r\n"]},"metadata":{},"sourceType":"module"}