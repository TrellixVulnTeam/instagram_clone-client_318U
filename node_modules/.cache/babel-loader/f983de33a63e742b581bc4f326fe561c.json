{"ast":null,"code":"import _defineProperty from\"C:/Benkia/MERN/instagram-clone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Benkia/MERN/instagram-clone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Benkia/MERN/instagram-clone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import EditActions from\"../../components/EditActions\";import{changePasswordUser}from\"../../redux/actions/profileActions\";import{NOTIFY_TYPES}from\"../../redux/types/notifyTypes\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ChangePasswordPage=function ChangePasswordPage(){var _auth$user,_auth$user2;var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth;var dispatch=useDispatch();var initialState={oldPassword:\"\",newPassword:\"\",cfPassword:\"\"};var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var oldPassword=userData.oldPassword,newPassword=userData.newPassword,cfPassword=userData.cfPassword;var handleInput=function handleInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();if(newPassword!==cfPassword)return dispatch({type:NOTIFY_TYPES.NOTIFY,payload:{error:\"Password does not match !\"}});dispatch(changePasswordUser({userData:userData,auth:auth}));setUserData(initialState);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"edit\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-contanier\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit-leftside\",children:/*#__PURE__*/_jsx(EditActions,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-rightside\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"#\",className:\"edit-rightside-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit-rightside-heading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit-rightside-width\",children:/*#__PURE__*/_jsx(\"img\",{src:auth===null||auth===void 0?void 0:(_auth$user=auth.user)===null||_auth$user===void 0?void 0:_auth$user.avatar,alt:\"Profile\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-rightside-name\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"edit-rightside-username\",children:auth===null||auth===void 0?void 0:(_auth$user2=auth.user)===null||_auth$user2===void 0?void 0:_auth$user2.username})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-rightside-input\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-rightside-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit-rightside-width\",children:/*#__PURE__*/_jsx(\"label\",{className:\"fz14\",htmlFor:\"\",children:\"Old Password\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-input\",name:\"oldPassword\",value:oldPassword,onChange:handleInput})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-rightside-input\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-rightside-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit-rightside-width\",children:/*#__PURE__*/_jsx(\"label\",{className:\"fz14\",htmlFor:\"\",children:\"New Password\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-input\",name:\"newPassword\",value:newPassword,onChange:handleInput})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-rightside-input\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-rightside-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit-rightside-width\",children:/*#__PURE__*/_jsx(\"label\",{className:\"fz14\",htmlFor:\"\",children:\"Confirm New Password\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-input\",name:\"cfPassword\",value:cfPassword,onChange:handleInput})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-rightside-input center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"edit-rightside-submit\",disabled:oldPassword&&newPassword&&cfPassword?false:true,style:{opacity:oldPassword&&newPassword&&cfPassword?1:0.3},children:\"Change Password\"})})]})})]})})});};export default ChangePasswordPage;","map":{"version":3,"sources":["C:/Benkia/MERN/instagram-clone/client/src/pages/ChangePasswordPage/index.js"],"names":["React","useState","useDispatch","useSelector","EditActions","changePasswordUser","NOTIFY_TYPES","ChangePasswordPage","state","auth","dispatch","initialState","oldPassword","newPassword","cfPassword","userData","setUserData","handleInput","e","target","name","value","handleSubmit","preventDefault","type","NOTIFY","payload","error","user","avatar","username","opacity"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport EditActions from \"../../components/EditActions\";\r\nimport { changePasswordUser } from \"../../redux/actions/profileActions\";\r\nimport { NOTIFY_TYPES } from \"../../redux/types/notifyTypes\";\r\n\r\nconst ChangePasswordPage = () => {\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const initialState = {\r\n    oldPassword: \"\",\r\n    newPassword: \"\",\r\n    cfPassword: \"\",\r\n  };\r\n\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { oldPassword, newPassword, cfPassword } = userData;\r\n  const handleInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (newPassword !== cfPassword)\r\n      return dispatch({\r\n        type: NOTIFY_TYPES.NOTIFY,\r\n        payload: { error: \"Password does not match !\" },\r\n      });\r\n    dispatch(changePasswordUser({ userData, auth }));\r\n    setUserData(initialState);\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"edit\">\r\n        <div className=\"edit-contanier\">\r\n          <div className=\"edit-leftside\">\r\n            <EditActions />\r\n          </div>\r\n          <div className=\"edit-rightside\">\r\n            <form\r\n              action=\"#\"\r\n              className=\"edit-rightside-form\"\r\n              onSubmit={handleSubmit}\r\n            >\r\n              <div className=\"edit-rightside-heading\">\r\n                <div className=\"edit-rightside-width\">\r\n                  <img src={auth?.user?.avatar} alt=\"Profile\" />\r\n                </div>\r\n                <div className=\"edit-rightside-name\">\r\n                  <h1 className=\"edit-rightside-username\">\r\n                    {auth?.user?.username}\r\n                  </h1>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"edit-rightside-input\">\r\n                <div className=\"edit-rightside-group\">\r\n                  <div className=\"edit-rightside-width\">\r\n                    <label className=\"fz14\" htmlFor=\"\">\r\n                      Old Password\r\n                    </label>\r\n                  </div>\r\n                  <div>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-input\"\r\n                      name=\"oldPassword\"\r\n                      value={oldPassword}\r\n                      onChange={handleInput}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"edit-rightside-input\">\r\n                <div className=\"edit-rightside-group\">\r\n                  <div className=\"edit-rightside-width\">\r\n                    <label className=\"fz14\" htmlFor=\"\">\r\n                      New Password\r\n                    </label>\r\n                  </div>\r\n                  <div>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-input\"\r\n                      name=\"newPassword\"\r\n                      value={newPassword}\r\n                      onChange={handleInput}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"edit-rightside-input\">\r\n                <div className=\"edit-rightside-group\">\r\n                  <div className=\"edit-rightside-width\">\r\n                    <label className=\"fz14\" htmlFor=\"\">\r\n                      Confirm New Password\r\n                    </label>\r\n                  </div>\r\n                  <div>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-input\"\r\n                      name=\"cfPassword\"\r\n                      value={cfPassword}\r\n                      onChange={handleInput}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"edit-rightside-input center\">\r\n                <button\r\n                  className=\"edit-rightside-submit\"\r\n                  disabled={\r\n                    oldPassword && newPassword && cfPassword ? false : true\r\n                  }\r\n                  style={{\r\n                    opacity: oldPassword && newPassword && cfPassword ? 1 : 0.3,\r\n                  }}\r\n                >\r\n                  Change Password\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChangePasswordPage;\r\n"]},"metadata":{},"sourceType":"module"}