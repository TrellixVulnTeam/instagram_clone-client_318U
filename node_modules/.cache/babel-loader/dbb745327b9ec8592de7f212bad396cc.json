{"ast":null,"code":"import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{deleteMessageAction}from\"../../../redux/actions/messageActions\";import{imageShow,videoShow}from\"../../../utils/mediaShow\";import ProfileIcon from\"../../ProfileIcon\";import Times from\"../../Times\";import\"./index.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MsgDisplay=function MsgDisplay(_ref){var user=_ref.user,msg=_ref.msg,data=_ref.data;var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth;var dispatch=useDispatch();var handleDeleteMessage=function handleDeleteMessage(){if(data){dispatch(deleteMessageAction({msg:msg,data:data,auth:auth}));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"msg-title\",children:/*#__PURE__*/_jsx(ProfileIcon,{src:user.avatar,size:\"small-avatar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"msg-content\",children:[user._id===auth.user._id&&/*#__PURE__*/_jsx(\"div\",{className:\"msg-action\",children:/*#__PURE__*/_jsx(\"span\",{className:\"msg-action-icon\",onClick:handleDeleteMessage,children:\"Unsend\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"msg-details\",children:[msg.text&&/*#__PURE__*/_jsx(\"div\",{className:\"msg-text\",children:msg.text}),msg.media.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"msg-images\",children:item.url.match(/video/i)?videoShow(item.url):imageShow(item.url)},index);})]})]}),msg.call&&/*#__PURE__*/_jsxs(\"button\",{className:\"msg-btn\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons msg-btn-span\",style:{fontSize:\"2.5rem\",color:msg.call.times===0?\"crimson\":\"green\"},children:msg.call.times===0?msg.call.video?\"videocam_off\":\"phone_disabled\":msg.call.video?\"video_camera_front\":\"call\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"msg-btn-text\",children:[/*#__PURE__*/_jsx(\"h6\",{children:msg.call.video?\"Video call\":\"Audio call\"}),/*#__PURE__*/_jsx(\"small\",{children:msg.call.times>0?/*#__PURE__*/_jsx(Times,{total:msg.call.times}):new Date(msg.createdAt).toLocaleTimeString()})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"msg-time\",children:new Date(msg.createdAt).toLocaleString()})]});};export default MsgDisplay;","map":{"version":3,"sources":["C:/Benkia/MERN/instagram-clone/client/src/components/RightSide/MsgDisplay/index.js"],"names":["React","useState","useDispatch","useSelector","deleteMessageAction","imageShow","videoShow","ProfileIcon","Times","MsgDisplay","user","msg","data","state","auth","dispatch","handleDeleteMessage","avatar","_id","text","media","map","item","index","url","match","call","fontSize","color","times","video","Date","createdAt","toLocaleTimeString","toLocaleString"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteMessageAction } from \"../../../redux/actions/messageActions\";\r\nimport { imageShow, videoShow } from \"../../../utils/mediaShow\";\r\nimport ProfileIcon from \"../../ProfileIcon\";\r\nimport Times from \"../../Times\";\r\nimport \"./index.scss\";\r\n\r\nconst MsgDisplay = ({ user, msg, data }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const handleDeleteMessage = () => {\r\n    if (data) {\r\n      dispatch(deleteMessageAction({ msg, data, auth }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"msg-title\">\r\n        <ProfileIcon src={user.avatar} size=\"small-avatar\" />\r\n      </div>\r\n      <div className=\"msg-content\">\r\n        {user._id === auth.user._id && (\r\n          <div className=\"msg-action\">\r\n            <span className=\"msg-action-icon\" onClick={handleDeleteMessage}>\r\n              Unsend\r\n            </span>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"msg-details\">\r\n          {msg.text && <div className=\"msg-text\">{msg.text}</div>}\r\n          {msg.media.map((item, index) => (\r\n            <div key={index} className=\"msg-images\">\r\n              {item.url.match(/video/i)\r\n                ? videoShow(item.url)\r\n                : imageShow(item.url)}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {msg.call && (\r\n        <button className=\"msg-btn\">\r\n          <span\r\n            className=\"material-icons msg-btn-span\"\r\n            style={{\r\n              fontSize: \"2.5rem\",\r\n              color: msg.call.times === 0 ? \"crimson\" : \"green\",\r\n            }}\r\n          >\r\n            {msg.call.times === 0\r\n              ? msg.call.video\r\n                ? \"videocam_off\"\r\n                : \"phone_disabled\"\r\n              : msg.call.video\r\n              ? \"video_camera_front\"\r\n              : \"call\"}\r\n          </span>\r\n\r\n          <div className=\"msg-btn-text\">\r\n            <h6>{msg.call.video ? \"Video call\" : \"Audio call\"}</h6>\r\n            <small>\r\n              {msg.call.times > 0 ? (\r\n                <Times total={msg.call.times} />\r\n              ) : (\r\n                new Date(msg.createdAt).toLocaleTimeString()\r\n              )}\r\n            </small>\r\n          </div>\r\n        </button>\r\n      )}\r\n\r\n      <div className=\"msg-time\">{new Date(msg.createdAt).toLocaleString()}</div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MsgDisplay;\r\n"]},"metadata":{},"sourceType":"module"}