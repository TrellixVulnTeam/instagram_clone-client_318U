{"ast":null,"code":"import _slicedToArray from\"C:/Benkia/MERN/instagram-clone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useParams}from\"react-router-dom\";import LoadingIcon from\"../../assets/images/loading.gif\";import Infos from\"../../layouts/Infos\";import PostProfiles from\"../../layouts/PostProfiles\";import SavedPost from\"../../layouts/SavedPost\";import{getPostAuthAction,getProfileUsers}from\"../../redux/actions/profileActions\";import\"./index.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProfilePage=function ProfilePage(){var _auth$user;var _useSelector=useSelector(function(state){return state;}),profile=_useSelector.profile,auth=_useSelector.auth;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),savedTab=_useState2[0],setSavedTab=_useState2[1];var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();useEffect(function(){if(profile.ids.every(function(item){return item!==id;})){dispatch(getProfileUsers({id:id,auth:auth}));}else{dispatch(getPostAuthAction({id:id,auth:auth}));}},[id,auth,dispatch,profile.ids]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsx(Infos,{auth:auth,profile:profile,dispatch:dispatch,id:id}),((_auth$user=auth.user)===null||_auth$user===void 0?void 0:_auth$user._id)===id&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:savedTab?\"profile-actions-posts\":\"profile-actions-posts profile-actions-active\",onClick:function onClick(){return setSavedTab(false);},children:\"Posts\"}),/*#__PURE__*/_jsx(\"button\",{className:savedTab?\"profile-actions-saved profile-actions-active\":\"profile-actions-saved\",onClick:function onClick(){return setSavedTab(true);},children:\"Saved\"})]}),profile.loading?/*#__PURE__*/_jsx(\"div\",{className:\"profile-loading\",children:/*#__PURE__*/_jsx(\"img\",{src:LoadingIcon,alt:\"Loading\"})}):/*#__PURE__*/_jsx(_Fragment,{children:savedTab?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(SavedPost,{auth:auth,dispatch:dispatch})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PostProfiles,{auth:auth,profile:profile,dispatch:dispatch,id:id}),\" \"]})})]})});};export default ProfilePage;","map":{"version":3,"sources":["C:/Benkia/MERN/instagram-clone/client/src/pages/ProfilePage/index.js"],"names":["React","useEffect","useState","useDispatch","useSelector","useParams","LoadingIcon","Infos","PostProfiles","SavedPost","getPostAuthAction","getProfileUsers","ProfilePage","state","profile","auth","savedTab","setSavedTab","id","dispatch","ids","every","item","user","_id","loading"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,iCAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,OACEC,iBADF,CAEEC,eAFF,KAGO,oCAHP,CAIA,MAAO,cAAP,C,6IACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,gBACxB,iBAA0BR,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAX,EAAD,CAArC,CAAQC,OAAR,cAAQA,OAAR,CAAiBC,IAAjB,cAAiBA,IAAjB,CACA,cAAgCb,QAAQ,CAAC,KAAD,CAAxC,wCAAOc,QAAP,eAAiBC,WAAjB,eACA,eAAeZ,SAAS,EAAxB,CAAQa,EAAR,YAAQA,EAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,CACd,GAAIa,OAAO,CAACM,GAAR,CAAYC,KAAZ,CAAkB,SAACC,IAAD,QAAUA,CAAAA,IAAI,GAAKJ,EAAnB,EAAlB,CAAJ,CAA8C,CAC5CC,QAAQ,CAACR,eAAe,CAAC,CAAEO,EAAE,CAAFA,EAAF,CAAMH,IAAI,CAAJA,IAAN,CAAD,CAAhB,CAAR,CACD,CAFD,IAEO,CACLI,QAAQ,CAACT,iBAAiB,CAAC,CAAEQ,EAAE,CAAFA,EAAF,CAAMH,IAAI,CAAJA,IAAN,CAAD,CAAlB,CAAR,CACD,CACF,CANQ,CAMN,CAACG,EAAD,CAAKH,IAAL,CAAWI,QAAX,CAAqBL,OAAO,CAACM,GAA7B,CANM,CAAT,CAQA,mBACE,sCACE,aAAK,SAAS,CAAC,mBAAf,wBACE,KAAC,KAAD,EAAO,IAAI,CAAEL,IAAb,CAAmB,OAAO,CAAED,OAA5B,CAAqC,QAAQ,CAAEK,QAA/C,CAAyD,EAAE,CAAED,EAA7D,EADF,CAGG,aAAAH,IAAI,CAACQ,IAAL,gDAAWC,GAAX,IAAmBN,EAAnB,eACC,aAAK,SAAS,CAAC,iBAAf,wBACE,eACE,SAAS,CACPF,QAAQ,CACJ,uBADI,CAEJ,8CAJR,CAME,OAAO,CAAE,yBAAMC,CAAAA,WAAW,CAAC,KAAD,CAAjB,EANX,mBADF,cAWE,eACE,SAAS,CACPD,QAAQ,CACJ,8CADI,CAEJ,uBAJR,CAME,OAAO,CAAE,yBAAMC,CAAAA,WAAW,CAAC,IAAD,CAAjB,EANX,mBAXF,GAJJ,CA4BGH,OAAO,CAACW,OAAR,cACC,YAAK,SAAS,CAAC,iBAAf,uBACE,YAAK,GAAG,CAAEnB,WAAV,CAAuB,GAAG,CAAC,SAA3B,EADF,EADD,cAKC,yBACGU,QAAQ,cACP,sCACE,KAAC,SAAD,EAAW,IAAI,CAAED,IAAjB,CAAuB,QAAQ,CAAEI,QAAjC,EADF,EADO,cAKP,wCACE,KAAC,YAAD,EACE,IAAI,CAAEJ,IADR,CAEE,OAAO,CAAED,OAFX,CAGE,QAAQ,CAAEK,QAHZ,CAIE,EAAE,CAAED,EAJN,EADF,CAMK,GANL,GANJ,EAjCJ,GADF,EADF,CAuDD,CArED,CAuEA,cAAeN,CAAAA,WAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport LoadingIcon from \"../../assets/images/loading.gif\";\r\nimport Infos from \"../../layouts/Infos\";\r\nimport PostProfiles from \"../../layouts/PostProfiles\";\r\nimport SavedPost from \"../../layouts/SavedPost\";\r\nimport {\r\n  getPostAuthAction,\r\n  getProfileUsers,\r\n} from \"../../redux/actions/profileActions\";\r\nimport \"./index.scss\";\r\nconst ProfilePage = () => {\r\n  const { profile, auth } = useSelector((state) => state);\r\n  const [savedTab, setSavedTab] = useState(false);\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (profile.ids.every((item) => item !== id)) {\r\n      dispatch(getProfileUsers({ id, auth }));\r\n    } else {\r\n      dispatch(getPostAuthAction({ id, auth }));\r\n    }\r\n  }, [id, auth, dispatch, profile.ids]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"profile-container\">\r\n        <Infos auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n\r\n        {auth.user?._id === id && (\r\n          <div className=\"profile-actions\">\r\n            <button\r\n              className={\r\n                savedTab\r\n                  ? \"profile-actions-posts\"\r\n                  : \"profile-actions-posts profile-actions-active\"\r\n              }\r\n              onClick={() => setSavedTab(false)}\r\n            >\r\n              Posts\r\n            </button>\r\n            <button\r\n              className={\r\n                savedTab\r\n                  ? \"profile-actions-saved profile-actions-active\"\r\n                  : \"profile-actions-saved\"\r\n              }\r\n              onClick={() => setSavedTab(true)}\r\n            >\r\n              Saved\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {profile.loading ? (\r\n          <div className=\"profile-loading\">\r\n            <img src={LoadingIcon} alt=\"Loading\" />\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {savedTab ? (\r\n              <>\r\n                <SavedPost auth={auth} dispatch={dispatch} />\r\n              </>\r\n            ) : (\r\n              <>\r\n                <PostProfiles\r\n                  auth={auth}\r\n                  profile={profile}\r\n                  dispatch={dispatch}\r\n                  id={id}\r\n                />{\" \"}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n"]},"metadata":{},"sourceType":"module"}