{"ast":null,"code":"import _regeneratorRuntime from\"C:/Benkia/MERN/instagram-clone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Benkia/MERN/instagram-clone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Benkia/MERN/instagram-clone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import LoadingIcon from\"../../assets/images/loading.gif\";import{useDispatch,useSelector}from\"react-redux\";import UserCard from\"../../components/UserCard\";import FollowBtn from\"../../components/FollowBtn\";import\"./index.scss\";import{getSuggestionsAction}from\"../../redux/actions/suggestionActions\";import{getDataAPI}from\"../../utils/fetchData\";import{SUGGESTION_TYPES}from\"../../redux/types/suggestionTypes\";import LoadMoreBtn from\"../../components/LoadMoreBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ExploreAll=function ExploreAll(){var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,suggestions=_useSelector.suggestions;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),load=_useState2[0],setLoad=_useState2[1];var dispatch=useDispatch();var handleLoadMore=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoad(true);_context.next=3;return getDataAPI(\"suggestionsUser?num=\".concat(suggestions.page*9),auth.token);case 3:res=_context.sent;dispatch({type:SUGGESTION_TYPES.UPDATE_USERS,payload:res.data});setLoad(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleLoadMore(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"explore-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"explore-heading\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Suggested\"}),!suggestions.loading&&/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-redo\",style:{cursor:\"pointer\"},onClick:function onClick(){return dispatch(getSuggestionsAction(auth.token));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"explore-users\",children:[suggestions.loading?/*#__PURE__*/_jsx(\"div\",{className:\"explore-loading\",children:/*#__PURE__*/_jsx(\"img\",{src:LoadingIcon,alt:\"Loading\"})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"explore-details\",children:suggestions.users.map(function(user){return/*#__PURE__*/_jsx(UserCard,{user:user,children:/*#__PURE__*/_jsx(FollowBtn,{user:user,profiles:true})},user._id);})})}),load&&/*#__PURE__*/_jsx(\"div\",{className:\"explore-loading\",children:/*#__PURE__*/_jsx(\"img\",{src:LoadingIcon,alt:\"Logo\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"explore-btn\",children:!suggestions.loading&&/*#__PURE__*/_jsx(LoadMoreBtn,{result:suggestions.result,page:suggestions.page,load:load,handleLoadMore:handleLoadMore})})]})]})});};export default ExploreAll;","map":{"version":3,"sources":["C:/Benkia/MERN/instagram-clone/client/src/pages/ExploreAll/index.js"],"names":["React","useState","LoadingIcon","useDispatch","useSelector","UserCard","FollowBtn","getSuggestionsAction","getDataAPI","SUGGESTION_TYPES","LoadMoreBtn","ExploreAll","state","auth","suggestions","load","setLoad","dispatch","handleLoadMore","page","token","res","type","UPDATE_USERS","payload","data","loading","cursor","users","map","user","_id","result"],"mappings":"idAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,iCAAxB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,MAAO,cAAP,CACA,OAASC,oBAAT,KAAqC,uCAArC,CACA,OAASC,UAAT,KAA2B,uBAA3B,CACA,OAASC,gBAAT,KAAiC,mCAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,C,6IACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,iBAA8BP,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAX,EAAD,CAAzC,CAAQC,IAAR,cAAQA,IAAR,CAAcC,WAAd,cAAcA,WAAd,CACA,cAAwBb,QAAQ,CAAC,KAAD,CAAhC,wCAAOc,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CACA,GAAMe,CAAAA,cAAc,0FAAG,2IACrBF,OAAO,CAAC,IAAD,CAAP,CADqB,sBAEHR,CAAAA,UAAU,+BACHM,WAAW,CAACK,IAAZ,CAAmB,CADhB,EAE1BN,IAAI,CAACO,KAFqB,CAFP,QAEfC,GAFe,eAMrBJ,QAAQ,CAAC,CACPK,IAAI,CAAEb,gBAAgB,CAACc,YADhB,CAEPC,OAAO,CAAEH,GAAG,CAACI,IAFN,CAAD,CAAR,CAIAT,OAAO,CAAC,KAAD,CAAP,CAVqB,sDAAH,kBAAdE,CAAAA,cAAc,0CAApB,CAaA,mBACE,sCACE,aAAK,SAAS,CAAC,mBAAf,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,mCADF,CAEG,CAACJ,WAAW,CAACY,OAAb,eACC,UACE,SAAS,CAAC,aADZ,CAEE,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAV,CAFT,CAGE,OAAO,CAAE,yBAAMV,CAAAA,QAAQ,CAACV,oBAAoB,CAACM,IAAI,CAACO,KAAN,CAArB,CAAd,EAHX,EAHJ,GADF,cAWE,aAAK,SAAS,CAAC,eAAf,WACGN,WAAW,CAACY,OAAZ,cACC,YAAK,SAAS,CAAC,iBAAf,uBACE,YAAK,GAAG,CAAExB,WAAV,CAAuB,GAAG,CAAC,SAA3B,EADF,EADD,cAKC,sCACE,YAAK,SAAS,CAAC,iBAAf,UACGY,WAAW,CAACc,KAAZ,CAAkBC,GAAlB,CAAsB,SAACC,IAAD,qBACrB,KAAC,QAAD,EAAyB,IAAI,CAAEA,IAA/B,uBACE,KAAC,SAAD,EAAW,IAAI,CAAEA,IAAjB,CAAuB,QAAQ,CAAE,IAAjC,EADF,EAAeA,IAAI,CAACC,GAApB,CADqB,EAAtB,CADH,EADF,EANJ,CAiBGhB,IAAI,eACH,YAAK,SAAS,CAAC,iBAAf,uBACE,YAAK,GAAG,CAAEb,WAAV,CAAuB,GAAG,CAAC,MAA3B,EADF,EAlBJ,cAsBE,YAAK,SAAS,CAAC,aAAf,UACG,CAACY,WAAW,CAACY,OAAb,eACC,KAAC,WAAD,EACE,MAAM,CAAEZ,WAAW,CAACkB,MADtB,CAEE,IAAI,CAAElB,WAAW,CAACK,IAFpB,CAGE,IAAI,CAAEJ,IAHR,CAIE,cAAc,CAAEG,cAJlB,EAFJ,EAtBF,GAXF,GADF,EADF,CAiDD,CAlED,CAoEA,cAAeP,CAAAA,UAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport LoadingIcon from \"../../assets/images/loading.gif\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport UserCard from \"../../components/UserCard\";\r\nimport FollowBtn from \"../../components/FollowBtn\";\r\nimport \"./index.scss\";\r\nimport { getSuggestionsAction } from \"../../redux/actions/suggestionActions\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { SUGGESTION_TYPES } from \"../../redux/types/suggestionTypes\";\r\nimport LoadMoreBtn from \"../../components/LoadMoreBtn\";\r\nconst ExploreAll = () => {\r\n  const { auth, suggestions } = useSelector((state) => state);\r\n  const [load, setLoad] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(\r\n      `suggestionsUser?num=${suggestions.page * 9}`,\r\n      auth.token\r\n    );\r\n    dispatch({\r\n      type: SUGGESTION_TYPES.UPDATE_USERS,\r\n      payload: res.data,\r\n    });\r\n    setLoad(false);\r\n  };\r\n  \r\n  return (\r\n    <>\r\n      <div className=\"explore-container\">\r\n        <div className=\"explore-heading\">\r\n          <span>Suggested</span>\r\n          {!suggestions.loading && (\r\n            <i\r\n              className=\"fas fa-redo\"\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => dispatch(getSuggestionsAction(auth.token))}\r\n            ></i>\r\n          )}\r\n        </div>\r\n        <div className=\"explore-users\">\r\n          {suggestions.loading ? (\r\n            <div className=\"explore-loading\">\r\n              <img src={LoadingIcon} alt=\"Loading\" />\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"explore-details\">\r\n                {suggestions.users.map((user) => (\r\n                  <UserCard key={user._id} user={user}>\r\n                    <FollowBtn user={user} profiles={true} />\r\n                  </UserCard>\r\n                ))}\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {load && (\r\n            <div className=\"explore-loading\">\r\n              <img src={LoadingIcon} alt=\"Logo\" />\r\n            </div>\r\n          )}\r\n          <div className=\"explore-btn\">\r\n            {!suggestions.loading && (\r\n              <LoadMoreBtn\r\n                result={suggestions.result}\r\n                page={suggestions.page}\r\n                load={load}\r\n                handleLoadMore={handleLoadMore}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ExploreAll;\r\n"]},"metadata":{},"sourceType":"module"}