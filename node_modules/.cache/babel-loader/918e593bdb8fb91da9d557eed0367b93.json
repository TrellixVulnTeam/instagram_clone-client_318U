{"ast":null,"code":"import _slicedToArray from\"C:/Benkia/MERN/instagram-clone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import FollowBtn from\"../../components/FollowBtn\";import ProfileIcon from\"../../components/ProfileIcon\";import{MODAL_TYPES}from\"../../redux/types/modalTypes\";import Followers from\"../Followers\";import Following from\"../Following\";import\"./index.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Infos=function Infos(_ref){var id=_ref.id,auth=_ref.auth,profile=_ref.profile,dispatch=_ref.dispatch;var _useSelector=useSelector(function(state){return state;}),status=_useSelector.status;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showFollowers=_useState4[0],setShowFollowers=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showFollowing=_useState6[0],setShowFollowing=_useState6[1];useEffect(function(){var _auth$user;if(id===(auth===null||auth===void 0?void 0:(_auth$user=auth.user)===null||_auth$user===void 0?void 0:_auth$user._id)){setUserData([auth.user]);}else{var newData=profile.users.filter(function(user){return user._id===id;});setUserData(newData);}},[id,auth.user,dispatch,profile.users]);useEffect(function(){if(showFollowers||showFollowing||status.onEdit){dispatch({type:MODAL_TYPES.MODAL,payload:true});}else{dispatch({type:MODAL_TYPES.MODAL,payload:false});}},[dispatch,showFollowers,showFollowing,status.onEdit]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"info-container\",children:userData.map(function(user,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"info-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-images\",children:/*#__PURE__*/_jsx(ProfileIcon,{src:user.avatar,size:\"supper-avatar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-details-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"info-details-name\",children:user.username}),user._id===auth.user._id?/*#__PURE__*/_jsx(Link,{to:\"/edit\",className:\"info-details-action\",children:\"Edit Profile\"}):/*#__PURE__*/_jsx(FollowBtn,{profiles:true,user:user})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-details-followers\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"info-details-follow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-details-count\",children:\"0\"}),\" posts\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-details-follow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-details-count\",onClick:function onClick(){return setShowFollowers(true);},children:user.followers.length}),\" followers\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-details-follow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-details-count\",onClick:function onClick(){return setShowFollowing(true);},children:user.following.length}),\" following\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-details-desc\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"info-desc-name\",children:user.fullname}),/*#__PURE__*/_jsx(\"span\",{className:\"info-desc-story\",children:user.story}),/*#__PURE__*/_jsx(\"a\",{href:\"wwww.google.com\",target:\"_blank\",rel:\"noreferrer\",className:\"info-desc-url\",children:user.webiste})]})]}),showFollowers&&/*#__PURE__*/_jsx(Followers,{users:user.followers,setShowFollowers:setShowFollowers}),showFollowing&&/*#__PURE__*/_jsx(Following,{users:user.following,setShowFollowing:setShowFollowing})]},user._id);})})});};export default Infos;","map":{"version":3,"sources":["C:/Benkia/MERN/instagram-clone/client/src/layouts/Infos/index.js"],"names":["React","useEffect","useState","useSelector","Link","FollowBtn","ProfileIcon","MODAL_TYPES","Followers","Following","Infos","id","auth","profile","dispatch","state","status","userData","setUserData","showFollowers","setShowFollowers","showFollowing","setShowFollowing","user","_id","newData","users","filter","onEdit","type","MODAL","payload","map","index","avatar","username","followers","length","following","fullname","story","webiste"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FollowBtn from \"../../components/FollowBtn\";\r\nimport ProfileIcon from \"../../components/ProfileIcon\";\r\nimport { MODAL_TYPES } from \"../../redux/types/modalTypes\";\r\nimport Followers from \"../Followers\";\r\nimport Following from \"../Following\";\r\nimport \"./index.scss\";\r\nconst Infos = ({ id, auth, profile, dispatch }) => {\r\n  const { status } = useSelector((state) => state);\r\n\r\n  const [userData, setUserData] = useState([]);\r\n  const [showFollowers, setShowFollowers] = useState(false);\r\n  const [showFollowing, setShowFollowing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (id === auth?.user?._id) {\r\n      setUserData([auth.user]);\r\n    } else {\r\n      const newData = profile.users.filter((user) => user._id === id);\r\n      setUserData(newData);\r\n    }\r\n  }, [id, auth.user, dispatch, profile.users]);\r\n\r\n  useEffect(() => {\r\n    if (showFollowers || showFollowing || status.onEdit) {\r\n      dispatch({\r\n        type: MODAL_TYPES.MODAL,\r\n        payload: true,\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: MODAL_TYPES.MODAL,\r\n        payload: false,\r\n      });\r\n    }\r\n  }, [dispatch, showFollowers, showFollowing, status.onEdit]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"info-container\">\r\n        {userData.map((user, index) => (\r\n          <div className=\"info-content\" key={user._id}>\r\n            <div className=\"info-images\">\r\n              <ProfileIcon src={user.avatar} size=\"supper-avatar\" />\r\n            </div>\r\n            <div className=\"info-details\">\r\n              <div className=\"info-details-header\">\r\n                <h1 className=\"info-details-name\">{user.username}</h1>\r\n                {user._id === auth.user._id ? (\r\n                  <Link to=\"/edit\" className=\"info-details-action\">\r\n                    Edit Profile\r\n                  </Link>\r\n                ) : (\r\n                  <FollowBtn profiles={true} user={user} />\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"info-details-followers\">\r\n                <span className=\"info-details-follow\">\r\n                  <span className=\"info-details-count\">0</span>\r\n                  {\" posts\"}\r\n                </span>\r\n                <span className=\"info-details-follow\">\r\n                  <span\r\n                    className=\"info-details-count\"\r\n                    onClick={() => setShowFollowers(true)}\r\n                  >\r\n                    {user.followers.length}\r\n                  </span>\r\n                  {\" followers\"}\r\n                </span>\r\n                <span className=\"info-details-follow\">\r\n                  <span\r\n                    className=\"info-details-count\"\r\n                    onClick={() => setShowFollowing(true)}\r\n                  >\r\n                    {user.following.length}\r\n                  </span>\r\n                  {\" following\"}\r\n                </span>\r\n              </div>\r\n              <div className=\"info-details-desc\">\r\n                <h1 className=\"info-desc-name\">{user.fullname}</h1>\r\n                <span className=\"info-desc-story\">{user.story}</span>\r\n                <a\r\n                  href=\"wwww.google.com\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                  className=\"info-desc-url\"\r\n                >\r\n                  {user.webiste}\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            {showFollowers && (\r\n              <Followers\r\n                users={user.followers}\r\n                setShowFollowers={setShowFollowers}\r\n              />\r\n            )}\r\n            {showFollowing && (\r\n              <Following\r\n                users={user.following}\r\n                setShowFollowing={setShowFollowing}\r\n              />\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Infos;\r\n"]},"metadata":{},"sourceType":"module"}